<?xml version="1.0"?>
<addon scheme="3.0">
    <id>departments</id>
    <version>1.0</version>
    <priority>10000</priority>
    <position>0</position>
    <default_language>en</default_language>
    <status>active</status>
    <queries>
      <item for="install">DROP TABLE IF EXISTS ?:departments;</item>
      <item for="install">DROP TABLE IF EXISTS ?:department_names;</item>
      <item for="install">DROP TABLE IF EXISTS ?:department_descriptions;</item>
      <item for="install">DROP TABLE IF EXISTS ?:department_employee;</item>
      <item for="install">
         CREATE TABLE `?:departments` (
            `department_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
            `supervisor_id` MEDIUMINT UNSIGNED NOT NULL,
            `timestamp` INT(11) UNSIGNED NOT NULL DEFAULT 0,
            `upd_timestamp` INT(11) UNSIGNED NOT NULL DEFAULT 0,
            `status` char(1) NOT NULL DEFAULT 'A',
            PRIMARY KEY (`department_id`)
         ) Engine=MyISAM DEFAULT CHARSET UTF8;
      </item>
      <item for="install">
         CREATE TABLE `?:department_names` (
            `department_id` INT(11) UNSIGNED NOT NULL DEFAULT 0,
            `name_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
            `lang_code` CHAR(2) NOT NULL DEFAULT '',
            `name`  varchar(128) NOT NULL DEFAULT '',
            KEY(department_id),
            PRIMARY KEY (`name_id`)
         ) Engine=MyISAM DEFAULT CHARSET UTF8;
      </item>
      <item for="install">
         CREATE TABLE `?:department_descriptions` (
            `department_id` INT(11) UNSIGNED NOT NULL DEFAULT 0,
            `description_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
            `lang_code` CHAR(2) NOT NULL DEFAULT '',
            `description`  varchar(128) NOT NULL DEFAULT '',
            KEY(department_id),
            PRIMARY KEY (`description_id`)
         ) Engine=MyISAM DEFAULT CHARSET UTF8;
      </item>
      <item for="install">
         CREATE TABLE `?:department_employee` (
            `department_employee_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
            `department_id` INT(11) UNSIGNED NOT NULL DEFAULT 0,
            `user_id` MEDIUMINT UNSIGNED NOT NULL,
            KEY (`department_id`),
            KEY (`user_id`),
            PRIMARY KEY (`department_employee_id`)
         ) Engine=MyISAM DEFAULT CHARSET UTF8;
      </item>
      <item>
          CREATE TABLE `?:department_images` (
          `department_image_id` MEDIUMINT(8) UNSIGNED NOT NULL AUTO_INCREMENT,
          `department_id` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT 0,
          `lang_code` CHAR(2) NOT NULL DEFAULT '',
          PRIMARY KEY  (`department_image_id`),
          UNIQUE KEY  `department` (`department_id`,`lang_code`)
          ) Engine=MyISAM DEFAULT CHARSET UTF8;
      </item>
      <item for="uninstall">DROP TABLE IF EXISTS ?:departments;</item>
      <item for="uninstall">DROP TABLE IF EXISTS ?:department_names;</item>
      <item for="uninstall">DROP TABLE IF EXISTS ?:department_descriptions;</item>
      <item for="uninstall">DROP TABLE IF EXISTS ?:department_employee;</item>
      <item for="uninstall">DROP TABLE IF EXISTS ?:department_images;</item>
 </queries>
</addon>
